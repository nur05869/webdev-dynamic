<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../css/foundation.css">
    <link rel="stylesheet" href="../css/styles.css">
	<title>Template 2</title>
</head>
<body>
    <div class="off-canvas-wrapper">
        <!--Main Content-->
        <div class="off-canvas-content" data-off-canvas-content>
            <!-- main content within a `grid-container` -->
            <div class="grid-container">
                <!-- `grid-x` represents a row -->
                <div class="grid-x padding-x">
                    <div class="dropdown">
                        <button class="dropbtn">Navigate</button>
                        <div class="dropdown-content">
                            <a href="/State/Alabama">Home</a>
                            <a href="/DistractedDriving/10">Distracted Driving</a>
                            <a href="/Insurance/100">Insurance</a>
                        </div>
                    </div>
                </div>
                <div class="grid-x grid-padding-x">
                    <div class="cell small-12 show-for-small-only smallheight"><br></div>
                    <div class="cell small-12 show-for-medium"><br></div>
                    <div class="cell small-6 namestyle">$$STATENAME$$</div>
                    <div class="cell medium-6 show-for-medium">
                        <img src="https://flagpedia.net/data/us/w580/$$CLUE$$.webp" alt="Flag of $$STATENAME$$" style="width: 20vw; height: 15vh; float: right;">
                    </div>
                    <div class="cell small-6 show-for-small-only">
                        <img src="https://flagpedia.net/data/us/w580/$$CLUE$$.webp" alt="Flag of $$STATENAME$$" style="width: 10vw; height: 6vh; float: right;">
                    </div>
                    <div class="cell small-12"><br></div>
                    <div class="cell small-12 medium-12" style="background-color: black;">,</div>
                    <div class="cell small-12"><br></div>
                </div>
                <div class="grid-x grid-padding x">
                    <table>
                        <!-- <thead>
                            <tr>
                                <th>State</th>
                                <th>Car Insurance</th>
                            </tr>
                        </thead> -->
                        <tbody>
                            <tr>
                                <th>Number of drivers involved in fatal collisions per billion miles</th>
                                <th>$$INPUT1$$</th>
                            </tr>
                            <tr>
                                <th>Percentage Of Drivers Involved In Fatal Collisions Who Were Speeding</th>
                                <th>$$INPUT2$$</th>
                            </tr>
                            <tr>
                                <th>Percentage Of Drivers Involved In Fatal Collisions Who Were Alcohol-Impaired</th>
                                <th>$$INPUT3$$</th>
                            </tr>
                            <tr>
                                <th>Percentage Of Drivers Involved In Fatal Collisions Who Were Not Distracted</th>
                                <th>$$INPUT4$$</th>
                            </tr>
                            <tr>
                                <th>Percentage Of Drivers Involved In Fatal Collisions Who Had Not Been Involved In Any Previous Accidents</th>
                                <th>$$INPUT5$$</th>
                            </tr>
                            <tr>
                                <th>Car Insurance Premiums ($)</th>
                                <th>$$INPUT6$$</th>
                            </tr>
                            <tr>
                                <th>Losses incurred by insurance companies for collisions per insured driver ($)</th>
                                <th>$$INPUT7$$</th>
                            </tr>
                        </tbody>
                      </table>
                    </table>
                </div>
                <canvas id="myChart"></canvas>
                <div id="chartData" style="display: none;">$$CHART$$</div>
                <div class="grid-x grid-padding x">
                    <div class="cell small-12"><br></div>
                    <div class="cell small-12"><br></div>
                    <div class="cell small-6"><a href='$$PREV$$'>Previous</a></div>
                    <div class="cell small-6" style="text-align: right;"><a href='$$NEXT$$'>Next</a></div>
                    <div class="cell small-12"><br></div>
                    <div class="cell small-12"><br></div>
                </div>
            </div>
        </div>
    </div>

    <!-- include before closing <body> tag -->
    <script src="/public/js/vendor/jquery.js"></script>
    <script src="/public/js/vendor/what-input.js"></script>
    <script src="/public/js/vendor/foundation.js"></script>
    <script type="application/javascript">
        $(document).foundation();
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.js"></script>
    <script>
        var chartdata = document.getElementById("chartData").textContent;
        var temp = chartdata.split(',');
        var realdata = [];
        for (let index = 0; index < temp.length; index++) {
            realdata.push(temp[index]);
        }

        new Chart("myChart", {
            type: "bar",
            data: {
                labels: [
                    "Number of drivers involved in fatal collisions per billion miles",
                    "Percentage Of Drivers Involved In Fatal Collisions Who Were Speeding",
                    "Percentage Of Drivers Involved In Fatal Collisions Who Were Alcohol-Impaired",
                    "Percentage Of Drivers Involved In Fatal Collisions Who Were Not Distracted",
                    "Percentage Of Drivers Involved In Fatal Collisions Who Had Not Been Involved In Any Previous Accidents",
                    "Car Insurance Premiums ($)",
                    "Losses incurred by insurance companies for collisions per insured driver ($)"
                ],
                datasets: [{
                    backgroundColor: "gray",
                    data: realdata
                }]
            },
            options: {
                legend: {display: false},
                scales: {
                yAxes: [{ticks: {min: 0, max: Math.max.apply(Math, realdata) + 50}}],
                }
            }
        });
    </script>
</body>
</html>
